///
/// Navigation with Rocket-themed Border Animation
/// Add this to your existing nav styles
///

/* Enhanced Nav with Rocket Border Animation */
#nav {
	@include color-list(invert);
	@include color-typography(invert);
	@include vendor('display', 'flex');
	@include vendor('transition', (
		'transform 1s ease',
		'opacity 1s ease'
	));
	background: rgba(255,255,255,0.175);
	height: 4rem;
	line-height: 4rem;
	margin: -4rem auto 0 auto;
	overflow: hidden;
	padding: 0 2rem 0 0;
	position: relative;
	width: calc(100% - #{_size(padding) * 2});
	max-width: _size(wrapper);
	z-index: 2;

	ul {
		&.links {
			@include vendor('display', 'flex');
			@include vendor('flex-grow', '1');
			@include vendor('flex-shrink', '1');
			font-family: _font(family-heading);
			font-weight: _font(weight-heading);
			letter-spacing: 0.075em;
			list-style: none;
			margin-bottom: 0;
			padding-left: 0;
			text-transform: uppercase;

			li {
				display: block;
				padding-left: 0;

				a {
					@include vendor('transition', (
						'background-color #{_duration(transition)} ease-in-out',
						'color #{_duration(transition)} ease-in-out'
					));
					display: block;
					font-size: 0.8rem;
					outline: none;
					padding: 0 2rem;
					position: relative;
					
					// Rocket flame border
					&::before {
						content: '';
						position: absolute;
						top: 0;
						left: 0;
						width: 0;
						height: 8px;
						background: linear-gradient(90deg, #B25A22, #E38C33);
						@include vendor('transition', 'width 0.3s ease-out');
						//border-radius: 0 0 4px 4px;
					}

					&:hover {
						color: inherit !important;
						background-color: transparentize(_palette(invert, fg), 0.9);
						
						&::before {
							width: 100%;
							@include vendor('animation', 'rocketGlow 1s ease-in-out infinite alternate');
						}
					}
				}
				
				// Enhanced active state
				&.active {
					background-color: _palette(invert, fg);

					a {
						color: _palette(invert, bg);
						
						// Active items get permanent rocket border
						&::before {
							width: 100%;
							background: linear-gradient(90deg, #B25A22, #E38C33);
							@include vendor('animation', 'rocketGlow 1.5s ease-in-out infinite alternate');
						}

						&:hover {
							color: #B25A22 !important; // Rocket orange on hover
							
							&::before {
								background: linear-gradient(90deg, #E38C33, #ffd700);
								box-shadow: 0 0 15px rgba(255, 107, 53, 0.8);
							}
						}
					}
				}
			}
		}

		&.icons {
			@include vendor('flex-grow', '0');
			@include vendor('flex-shrink', '0');
			margin-bottom: 0;
		}
	}

	@include breakpoint('<=medium') {
		display: none;
	}
}

// Rocket glow animation keyframes
@keyframes rocketGlow {
	0% {
		box-shadow: 0 0 5px rgba(255, 107, 53, 0.5);
	}
	100% {
		box-shadow: 0 0 15px rgba(255, 107, 53, 0.8), 0 0 25px rgba(255, 149, 0, 0.3);
	}
}